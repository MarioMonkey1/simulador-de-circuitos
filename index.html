<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulador de Circuitos</title>
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>

    <link rel="stylesheet" href="style.css">
    <script src="script.js" defer></script>
</head>
<body>
    <h1>Guía de Circuitos: DC y AC (Boylestad)</h1>

   <!-- <div id="timer-container">
        <span id="timer-wrapper" style="display: none;">
            Tiempo restante: <span id="timer-display">20:00</span>
        </span>
        <button id="start-timer-btn" class="timer-button">Habilitar Examen (20 min)</button>
    </div> -->

    <nav class="section-nav">
        <button id="section-1-btn" class="section-button active">1: Resistencias</button>
        <button id="section-2-btn" class="section-button">2: Ley de Ohm</button>
        <button id="section-3-btn" class="section-button">3: Thevenin/Norton</button>
        <button id="section-4-btn" class="section-button">4: AC - Boylestad</button>
    </nav>

    <main id="section-1-content" class="section-content">
        <div class="mode-selector">
            <button data-section="1" id="mode-serie" class="mode-button active">Serie</button>
            <button data-section="1" id="mode-paralelo" class="mode-button">Paralelo</button>
            <button data-section="1" id="mode-mixto" class="mode-button">Mixto</button>
        </div>
        <div id="main-container-s1" class="main-container">
            <div class="circuit-wrapper">
                <svg id="circuit-container-s1" class="circuit-container" width="400" height="200"></svg>
            </div>
            <div class="user-interface">
                <p id="question-text-s1">Calcula la Resistencia Total (en Ω):</p>
                <input type="number" id="user-answer-s1" class="user-answer" placeholder="R">
                <button id="check-button-s1" class="check-button">Verificar</button>
                <button id="solution-button-s1" class="solution-button" style="display: none;">Ver Solución</button>
                <button id="new-circuit-button-s1" class="new-circuit-button">Nuevo</button>
            </div>
            <p id="result-text-s1" class="result-text"></p>
            <div id="solution-steps-s1" class="solution-box" style="display:none;"></div>
        </div>
    </main>

    <main id="section-2-content" class="section-content" style="display: none;">
         <div class="mode-selector">
            <button data-section="2" id="mode-serie-s2" class="mode-button active">Serie</button>
            <button data-section="2" id="mode-paralelo-s2" class="mode-button">Paralelo</button>
        </div>
        <div id="main-container-s2" class="main-container">
            <div class="circuit-wrapper">
                <svg id="circuit-container-s2" class="circuit-container" width="400" height="200"></svg>
            </div>
            <div class="user-interface">
                <p id="question-text-s2">Calcula la Corriente Total (en A):</p>
                <input type="number" id="user-answer-s2" class="user-answer" placeholder="I">
                <button id="check-button-s2" class="check-button">Verificar</button>
                <button id="solution-button-s2" class="solution-button" style="display: none;">Ver Solución</button>
                <button id="new-circuit-button-s2" class="new-circuit-button">Nuevo</button>
            </div>
            <p id="result-text-s2" class="result-text"></p>
            <div id="solution-steps-s2" class="solution-box" style="display:none;"></div>
        </div>
    </main>

    <main id="section-3-content" class="section-content" style="display: none;">
        <div class="mode-selector">
           <button data-section="3" id="mode-thevenin" class="mode-button active">Thevenin</button>
           <button data-section="3" id="mode-norton" class="mode-button">Norton</button>
       </div>
       <div id="main-container-s3" class="main-container">
           <div class="circuit-wrapper">
               <svg id="circuit-container-s3" class="circuit-container" width="400" height="200"></svg>
           </div>
           <div class="user-interface">
               <p id="question-text-s3">Calcula el Voltaje Thevenin (Vth):</p>
               <input type="number" id="user-answer-s3" class="user-answer" placeholder="Valor">
               <button id="check-button-s3" class="check-button">Verificar</button>
               <button id="solution-button-s3" class="solution-button" style="display: none;">Ver Solución</button>
               <button id="visual-button-s3" class="visual-button" style="display: none;">Ver Gráfico Equivalente</button>
               <button id="new-circuit-button-s3" class="new-circuit-button">Nuevo</button>
           </div>
           <p id="result-text-s3" class="result-text"></p>
           <div id="solution-steps-s3" class="solution-box" style="display:none;"></div>
       </div>
   </main>

   <main id="section-4-content" class="section-content" style="display: none;">
        
        <div class="topic-nav">
            <label for="topic-selector"><strong>Tema del Capítulo:</strong></label>
            <select id="topic-selector" class="topic-select">
                <option value="intro">Selecciona un tema...</option>
                <option value="inductancia">Cap 12: Reactancia Inductiva (XL)</option>
                <option value="capacitancia">Cap 10: Reactancia Capacitiva (XC)</option>
                <option value="impedancia_rl">Cap 15: Impedancia Serie R-L</option>
            </select>
        </div>

        <div class="learning-container">
            <div id="theory-panel" class="theory-box">
                <h3 id="lesson-title" style="color:#0d47a1;">Bienvenido al Modo Estudio</h3>
                <div id="lesson-content">
                    <p>Selecciona un tema del menú desplegable para cargar la lección basada en el texto de Robert L. Boylestad.</p>
                    <p>Aprenderás la teoría a la izquierda y resolverás problemas prácticos a la derecha.</p>
                </div>
                <div id="formula-box" class="formula-card" style="display:none;"></div>
            </div>

            <div class="practice-box">
                <div class="circuit-wrapper">
                    <svg id="circuit-container-s4" class="circuit-container" width="400" height="250"></svg>
                </div>
                
                <div class="user-interface">
                    <p id="question-text-s4">Esperando lección...</p>
                    <input type="number" id="user-answer-s4" class="user-answer" placeholder="Respuesta">
                    <button id="check-button-s4" class="check-button" disabled>Verificar</button>
                    <button id="solution-button-s4" class="solution-button" style="display: none;">Ver Solución</button>
                    <button id="new-circuit-button-s4" class="new-circuit-button" disabled>Nuevo Ejercicio</button>
                </div>
                <p id="result-text-s4" class="result-text"></p>
                <div id="solution-steps-s4" class="solution-box" style="display:none;"></div>
            </div>
        </div>
    </main>

</body>
</html>
